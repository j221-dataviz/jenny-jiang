for (y in years) {
tmp <- warming %>%
filter(year <= y)
chart <- ggplot(tmp, aes(x=year,y=annual)) %>%
+ geom_line(colour="black") %>%
+ geom_point(shape = 21, colour="black", aes(fill=annual), size=5, stroke=1) %>%
+ scale_x_continuous(limits=c(1880,2015)) %>%
+ scale_y_continuous(limits=c(-0.5,1)) %>%
+ theme_minimal() %>%
+ scale_fill_gradientn(colors = pal, values=vals, rescaler = function(x, ...) x, oob = identity, guide=FALSE) %>%
+ xlab("") %>%
+ ylab("Difference from 1951-1980 (ÂºC)") %>%
+ theme(text=element_text(size=16,family="Georgia"))
ggsave(file=paste0("charts/",y,".jpg"), plot = chart, width = 8, height = 4.5, units = "in", dpi=300)
print(paste0("processing: ",y))
}
# make a GIF with ImageMagick
system("convert -delay 10 combined/*.jpg warming2.gif")
# combine the maps and charts with ImageMagick, add year label to each frame
for (y in years) {
system(paste0("convert charts/",y,".jpg maps/map",y,".jpg -geometry +305+72 -composite -pointsize 100 -font Georgia -annotate +2000+1120 ",y," combined/img",y,".jpg"))
print(paste0("processing: ",y))
}
occ_level1213[,3:9] <- NULL
occ_level1213 <- occ_level13
occ_level1213[2] <- (occ_level12[2]  + occ_level13[2])/2
occ_level1213 <- occ_level13
occ_level1213[2] <- (occ_level12[2]  + occ_level13[2])/2
occ_level1213[,3:9] <- NULL
join_all_1213 <- merge(x = occ_level1213, y = occ_edu1213_all, by = "employment", all = TRUE)
join_all_1011 <- merge(x = occ_level11, y = occ_edu1011_all, by = "employment", all = TRUE)
occ_level1415 <- occ_level14
occ_level14 <- read_excel(path = "raw_data/2014.xlsx", sheet = 1)
colnames(occ_level14) <- c("employment", "Total", "16-19", "20-24", "25-34", "35-44", "45-54", "55-64", "65+", "median")
occ_level14 <- na.omit(occ_level14)
occ_level15 <- read_excel(path = "raw_data/2015.xlsx", sheet = 1)
colnames(occ_level15) <- c("employment", "Total", "16-19", "20-24", "25-34", "35-44", "45-54", "55-64", "65+", "median")
occ_level15 <- na.omit(occ_level15)
occ_edu1415_all <- occ_edu1415_all[!duplicated(occ_edu1415_all$code2),]
occ_level1415 <- occ_level14
occ_level1415[2] <- (occ_level14[2]  + occ_level15[2])/2
occ_level1415[,3:9] <- NULL
join_all_1415 <- merge(x = occ_level1213, y = occ_edu1415_all, by = "employment", all = TRUE)
# make a GIF with ImageMagick
system("convert -delay 10 combined/*.jpg warming2.gif")
system("ffmpeg -f image2 -start_number 1880 -i combined/img%d.jpg -vf 'scale=trunc(iw/2)*2:trunc(ih/2)*2' -b:a 64000k warming2.mp4")
# change the speed of the video
system("ffmpeg -i warming2.mp4 -vf 'setpts=2*PTS' warming3.mp4")
install.packages("tweenr")
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(ggplot2)
library(gganimate)
library(scales)
library(dplyr)
library(gapminder)
library(magick)
library(animation)
ani.options("convert")
library(tweenr)
setwd("~/Desktop/week14")
# prepare data
nations_edit <- nations %>%
arrange(country, year) %>%
select(gdp_percap,life_expect,year,country) %>%
rename(x=gdp_percap,y=life_expect,time=year,id=country) %>%
mutate(ease="linear")
library("dbplyr", lib.loc="/Library/Frameworks/R.framework/Versions/3.4/Resources/library")
# prepare data
nations_edit <- nations %>%
arrange(country, year) %>%
select(gdp_percap,life_expect,year,country) %>%
rename(x=gdp_percap,y=life_expect,time=year,id=country) %>%
mutate(ease="linear")
nations_edit <- nations %>%
arrange(country, year) %>%
select(gdp_percap,life_expect,year,country, fixed=TRUE) %>%
rename(x=gdp_percap,y=life_expect,time=year,id=country) %>%
mutate(ease="linear")
nations_edit <- nations %>%
arrange(country, year) %>%
select(gdp_percap,life_expect,year,country, fixed=F) %>%
rename(x=gdp_percap,y=life_expect,time=year,id=country) %>%
mutate(ease="linear")
install.packages("dplyr")
install.packages("dplyr")
detach("package:dplyr", unload=TRUE)
library("dplyr", lib.loc="~/Library/R/3.4/library")
nations_edit <- nations %>%
arrange(country, year) %>%
select(gdp_percap,life_expect,year,country) %>%
rename(x=gdp_percap,y=life_expect,time=year,id=country) %>%
mutate(ease="linear")
# tween
nations_tween <- tween_elements(nations_edit, "time", "id", "ease", nframes = 300)
# create year and country fields, for join
nations_tween <- nations_tween %>%
mutate(year = round(time),
country = .group)
remove.packages("dplyr", lib="~/Library/R/3.4/library")
# make animated chart
nations_tween_chart <- ggplot(nations_tween, aes(x = x, y = y, frame = .frame)) +
xlab("GDP per capita") +
ylab("Life expectancy at birth") +
theme_minimal(base_size = 16, base_family = "Georgia") +
geom_point(aes(size = population, color = region), alpha = 0.7) +
scale_size_area(guide = FALSE, max_size = 20) +
scale_x_continuous(labels = dollar) +
scale_color_brewer(name = "", palette = "Set2") +
theme(legend.position=c(0.8,0.4))
# run in the viewer
gganimate(nations_tween_chart, title_frame = FALSE, interval = 0.05)
# run in the viewer
gganimate(nations_tween_chart, title_frame = FALSE, interval = 0.05)
# add labels for year
for (f in frames[1:12]) {
system(paste0("convert charts/",f,".jpg pointsize 100 -font Georgia -annotate +2000+1120 1990 edited/img",f,".jpg"))
print(paste0("processing: ",f))
}
# make animated chart
nations_tween_chart <- ggplot(nations_tween, aes(x = x, y = y, frame = .frame)) +
xlab("GDP per capita") +
ylab("Life expectancy at birth") +
theme_minimal(base_size = 16, base_family = "Georgia") +
geom_point(aes(size = population, color = region), alpha = 0.7) +
scale_size_area(guide = FALSE, max_size = 20) +
scale_x_continuous(labels = dollar) +
scale_color_brewer(name = "", palette = "Set2") +
theme(legend.position=c(0.8,0.4))
# run in the viewer
gganimate(nations_tween_chart, title_frame = FALSE, interval = 0.05)
# join
nations_tween <- inner_join(nations_tween,nations)
# prepare data
nations_edit <- nations %>%
arrange(country, year) %>%
select(gdp_percap,life_expect,year,country) %>%
rename(x=gdp_percap,y=life_expect,time=year,id=country) %>%
mutate(ease="linear")
# tween
nations_tween <- tween_elements(nations_edit, "time", "id", "ease", nframes = 300)
# create year and country fields, for join
nations_tween <- nations_tween %>%
mutate(year = round(time),  #round to nearest 12 numbers
country = .group)
# join
nations_tween <- inner_join(nations_tween,nations)
# make animated chart
nations_tween_chart <- ggplot(nations_tween, aes(x = x, y = y, frame = .frame)) +
xlab("GDP per capita") +
ylab("Life expectancy at birth") +
theme_minimal(base_size = 16, base_family = "Georgia") +
geom_point(aes(size = population, color = region), alpha = 0.7) +
scale_size_area(guide = FALSE, max_size = 20) +
scale_x_continuous(labels = dollar) +
scale_color_brewer(name = "", palette = "Set2") +
theme(legend.position=c(0.8,0.4))
# run in the viewer
gganimate(nations_tween_chart, title_frame = FALSE, interval = 0.05)
join_all_1011 <- na.omit(join_all_1011)
join_all_1213 <- na.omit(join_all_1213)
join_all_1415 <- na.omit(join_all_1415)
check1013_all <- merge(x = join_all_1213, y = join_all_1011, by = "code", all.x = TRUE)
View(check1013_all)
check1013[,2:12] <- NULL
check1013_all[,2:12] <- NULL
View(check1013_all)
check1013_all <- merge(x = join_all_1213, y = join_all_1011, by = "code", all.x = TRUE)
check1013_all[,2:13] <- NULL
View(check1013_all)
check1013_all <- merge(x = join_all_1213, y = join_all_1011, by = "code", all.x = TRUE)
View(check1013_all)
check1013_all[,3:13] <- NULL
check1013_all <- merge(x = join_all_1213, y = join_all_1011, by = "code", all.x = TRUE)
check1013_all <- merge(x = join_all_1213, y = join_all_1011, by = "code", all.x = TRUE)
str(check1013_all)
join_all_1011 <- merge(x = occ_level11, y = occ_edu1011_all, by = "employment", all = TRUE)
#313 obs
join_all_1011 <- na.omit(join_all_1011)
View(join_all_1011)
occ_edu1011_all<- edu1011
occ_edu1011_all$code2 <- substr(occ_edu1011_all$code, start=1, stop=6)
occ_edu1011_all <- occ_edu1011_all[!duplicated(occ_edu1011_all$code2),]
occ_level11[,3:9] <- NULL
join_all_1011 <- merge(x = occ_level11, y = occ_edu1011_all, by = "employment", all = TRUE)
#313 obs
join_all_1011 <- na.omit(join_all_1011)
check1013_all <- merge(x = join_all_1213, y = join_all_1011, by = "code", all.x = TRUE)
check1013_all[,2:12] <- NULL
View(join_all_1213)
check1013_all <- merge(x = join_all_1213, y = join_all_1011, by = "code", all.x = TRUE)
check1013_all[,2:13] <- NULL
check1013_all<- join_all_1011[,c(2:4,1,5:12)]
check1013_all <- merge(x = join_all_1213, y = join_all_1011, by = "code", all.x = TRUE)
check1013_all[,2:13] <- NULL
check1013_all<- check1013_all[,c(2:4,1,5:12)]
colnames(check1013) <- colnames(check1011)
check1013_all <- merge(x = join_all_1213, y = join_all_1011, by = "code", all.x = TRUE)
check1013_all[,2:13] <- NULL
str(check1013_all)
check1013_all<- check1013_all[,c(2:4,1,5:12)]
colnames(check1013_all) <- colnames(join_all_1011)
check1013_all <- merge(x = join_all_1213, y = join_all_1011, by = "code", all.x = TRUE)
check1013_all[,2:13] <- NULL
check1013_all<- check1013_all[,c(2:4,1,5:13)]
colnames(check1013_all) <- colnames(join_all_1011)
join_all_1011 <- check1013_all  ## 252 obs
number1011 <- join_all_1011
number1011[5] <- number1011[2] * number1011[5] * 0.01
number1011[6] <- number1011[2] * number1011[6] * 0.01
number1011[7] <- number1011[2] * number1011[7] * 0.01
number1011[8] <- number1011[2] * number1011[8] * 0.01
number1011[9] <- number1011[2] * number1011[9] * 0.01
number1011[10] <- number1011[2] * number1011[10] * 0.01
number1011[11] <- number1011[2] * number1011[11] * 0.01
## format to 2 digits
number1011[5:11] <- format(round(number1011[5:11], 2), nsmall = 2)
#### 2012-2013
number1213 <- join_all_1213
number1213[5] <- number1213[2] * number1213[5] * 0.01
number1213[6] <- number1213[2] * number1213[6] * 0.01
number1213[7] <- number1213[2] * number1213[7] * 0.01
number1213[8] <- number1213[2] * number1213[8] * 0.01
number1213[9] <- number1213[2] * number1213[9] * 0.01
number1213[10] <- number1213[2] * number1213[10] * 0.01
number1213[11] <- number1213[2] * number1213[11] * 0.01
## format to 2 digits
number1213[5:11] <- format(round(number1213[5:11], 2), nsmall = 2)
#### 2014-2015
number1415 <- join_all_1415
number1415[5] <- number1415[2] * number1415[5] * 0.01
number1415[6] <- number1415[2] * number1415[6] * 0.01
number1415[7] <- number1415[2] * number1415[7] * 0.01
number1415[8] <- number1415[2] * number1415[8] * 0.01
number1415[9] <- number1415[2] * number1415[9] * 0.01
number1415[10] <- number1415[2] * number1415[10] * 0.01
number1415[11] <- number1415[2] * number1415[11] * 0.01
## format to 2 digits
number1415[5:11] <- format(round(number1415[5:11], 2), nsmall = 2)
## 2011
salary11 <- read_excel(path = "raw_data/2011salary.xlsx", sheet = 1)
colnames(salary11) <- c("employment", "total_median", "total_number", "men_median", "men_number", "women_median", "women_number")
salary11 <- na.omit(salary11)
join1011 <- merge(x = salary11, y = number1011, by = "employment", all.y = TRUE)
join1011_na <- na.omit(join1011)
### 2012
salary12 <- read_excel(path = "raw_data/2012salary.xlsx", sheet = 1)
colnames(salary12) <- c("employment", "total_median", "total_number", "men_median", "men_number", "women_median", "women_number")
salary12 <- na.omit(salary12)
### 2013
salary13 <- read_excel(path = "raw_data/2013salary.xlsx", sheet = 1)
colnames(salary13) <- c("employment", "total_median", "total_number", "men_median", "men_number", "women_median", "women_number")
salary13 <- na.omit(salary13)
salary1213 <- salary13
salary11 <- na.omit(salary11)
join1213 <- merge(x = salary1213, y = number1213, by = "employment", all.y = TRUE)
join1213_na <- na.omit(join1213)
### 2014
salary14 <- read_excel(path = "raw_data/2014salary.xlsx", sheet = 1)
colnames(salary14) <- c("employment", "total_median", "total_number", "men_median", "men_number", "women_median", "women_number")
salary14 <- na.omit(salary14)
### 2015
salary15 <- read_excel(path = "raw_data/2015salary.xlsx", sheet = 1)
colnames(salary15) <- c("employment", "total_median", "total_number", "men_median", "men_number", "women_median", "women_number")
salary15 <- na.omit(salary15)
salary1415 <- salary15
salary1415[2] <- (salary14[2]  + salary15[2])/2
salary1415[3] <- (salary14[3]  + salary15[3])/2
View(salary1415)
salary1415 <- salary15
join1415 <- merge(x = salary1415, y = number1415, by = "employment", all.y = TRUE)
join1415_na <- na.omit(join1415)
View(join1415_na)
salary14 <- read_excel(path = "raw_data/2014salary.xlsx", sheet = 1)
colnames(salary14) <- c("employment", "total_median", "total_number", "men_median", "men_number", "women_median", "women_number")
salary14 <- na.omit(salary14)
### 2015
salary15 <- read_excel(path = "raw_data/2015salary.xlsx", sheet = 1)
colnames(salary15) <- c("employment", "total_median", "total_number", "men_median", "men_number", "women_median", "women_number")
salary15 <- na.omit(salary15)
salary1415 <- salary15
salary1415[2] <- (salary14[2]  + salary15[2])/2
salary1415[3] <- (salary14[3]  + salary15[3])/2
salary14 <- read_excel(path = "raw_data/2014salary.xlsx", sheet = 1)
colnames(salary14) <- c("employment", "total_median", "total_number", "men_median", "men_number", "women_median", "women_number")
salary14 <- na.omit(salary14)
### 2015
salary15 <- read_excel(path = "raw_data/2015salary.xlsx", sheet = 1)
colnames(salary15) <- c("employment", "total_median", "total_number", "men_median", "men_number", "women_median", "women_number")
salary15 <- na.omit(salary15)
salary1415 <- salary15
join1415 <- merge(x = salary1415, y = number1415, by = "employment", all.y = TRUE)
join1415_na <- na.omit(join1415)
### join dataset together
join1215 <- full_join(join1213, join1415)
join1015 <- full_join(join1011, join1215)
write.csv(join1015 ,"ALL_emp_edu_salary_1015.csv")
knitr::opts_chunk$set(echo = TRUE)
require(MASS)
library(hexbin)
library(corrplot)
library(car)
library(ggplot2)
require(methods)
require("leaps")
library(tidyr)
library(reshape2)
library(ridge)
require(lars)
library(descr)
library(stringr)
library(readr)
library(readxl)
library(tidyverse)
#library(plyr)
library(dplyr)
library(htmlwidgets)
library(ggiraph)
library(highcharter)
library(RColorBrewer)
library(flexdashboard)
library(leaflet)
library(scatterD3)
library("billboarder")
library(rbokeh)
library(metricsgraphics)
setwd("~/Desktop/jenny-jiang")
All_emp_edu_salary_1015 <- read.csv("clean_data/ALL_emp_edu_salary_1015.csv")
All_emp_edu_salary_1015$X <- NULL
### wide to long format
Allmelt1015 <- melt(All_emp_edu_salary_1015,
measure.vars = c("less.hs", "high.school", "associate", "some.college..no.degree", "bachelor", "master", "doctor.professional"),
variable.name = "degrees",
value.name = "number")
Allmelt1015$edu <- Allmelt1015$degrees
# college +
levels(Allmelt1015$edu)[levels(Allmelt1015$edu)=="bachelor"] <- "college+"
levels(Allmelt1015$edu)[levels(Allmelt1015$edu)=="doctor.professional"] <- "college+"
levels(Allmelt1015$edu)[levels(Allmelt1015$edu)=="master"] <- "college+"
# hs - college
levels(Allmelt1015$edu)[levels(Allmelt1015$edu)=="some.college..no.degree"] <- "hs-college"
levels(Allmelt1015$edu)[levels(Allmelt1015$edu)=="associate"] <- "hs-college"
# hs -
levels(Allmelt1015$edu)[levels(Allmelt1015$edu)=="high.school"] <- "hs-"
levels(Allmelt1015$edu)[levels(Allmelt1015$edu)=="less.hs"] <- "hs-"
Allmelt1015$total_number <- NULL
Allmelt1015$men_number <- NULL
Allmelt1015$women_number <- NULL
Allmelt1015$year <- as.factor(Allmelt1015$year)
Allmelt1015$code <- as.factor(Allmelt1015$code)
colnames(Allmelt1015)[colnames(Allmelt1015) == "median"] <- "median_age"
colnames(Allmelt1015)[colnames(Allmelt1015) == "total_median"] <- "median_salary"
total_summary4 <- Allmelt1015 %>%
group_by(year, employment) %>%
summarize(sum_salary=sum(median_salary, na.rm=T))
scatterD3(data = Allmelt1015, x = number, y = median_salary,
col_var = degrees)
scatterD3(data = Allmelt1015, x = number, y = median_salary,
col_var = degrees, symbol_var = employment)
scatterD3(data = Allmelt1015, x = number, y = median_salary,
col_var = edu, symbol_var = employment)
## salary vs total number
ALL_degrees_employ <- scatterD3(data = Allmelt1015, x = number, y = median_salary,
col_var = degrees, symbol_var = employment)
# save as a web page
saveWidget(ALL_degrees_employ, "ALL_degrees_employ.html", selfcontained = TRUE, libdir = NULL, background = "white")
## salary vs total number
ALL_edu_employ <- scatterD3(data = Allmelt1015, x = number, y = median_salary,
col_var = edu, symbol_var = employment)
# save as a web page
saveWidget(ALL_edu_employ, "ALL_edu_employ.html", selfcontained = TRUE, libdir = NULL, background = "white")
shiny::runApp('Desktop/jenny-jiang')
total_summary2 <- read_csv("summary1.csv")
setwd("~/Desktop/jenny-jiang")
total_summary2 <- read_csv("summary1.csv")
total_summary2$X1 <- NULL
setwd("~/Desktop/jenny-jiang")
total_summary2 <- read_csv("summary1.csv")
View(total_summary2)
hchart(total_summary, "line", hcaes(x = year, y = median_salary, group = edu)) %>%
hc_colors(cols) %>%
hc_chart(style = list(fontFamily = "Georgia",
fontWeight = "bold")) %>%
hc_xAxis(title = list(text="Year")) %>%
hc_yAxis(title = list(text="Total Number of Workers")) %>%
hc_plotOptions(series = list(marker = list(enabled = TRUE, symbol = "circle")))
total_summary <- melt1015 %>%
group_by(year, edu) %>%
summarize(sum=sum(number, na.rm=T))
hchart(total_summary, "line", hcaes(x = year, y = median_salary, group = edu)) %>%
hc_colors(cols) %>%
hc_chart(style = list(fontFamily = "Georgia",
fontWeight = "bold")) %>%
hc_xAxis(title = list(text="Year")) %>%
hc_yAxis(title = list(text="Total Number of Workers")) %>%
hc_plotOptions(series = list(marker = list(enabled = TRUE, symbol = "circle")))
View(total_summary)
total_summary <- melt1015 %>%
group_by(year, edu) %>%
summarize(sum=sum(median_salary, na.rm=T))
# make chart
edu_chart <- hchart(total_summary, "line", hcaes(x = year, y = sum, group = edu)) %>%
hc_colors(cols) %>%
hc_chart(style = list(fontFamily = "Georgia",
fontWeight = "bold")) %>%
hc_xAxis(title = list(text="Year")) %>%
hc_yAxis(title = list(text="Total Number of Workers")) %>%
hc_plotOptions(series = list(marker = list(enabled = TRUE, symbol = "circle")))
hchart(total_summary, "line", hcaes(x = year, y = sum, group = edu)) %>%
hc_colors(cols) %>%
hc_chart(style = list(fontFamily = "Georgia",
fontWeight = "bold")) %>%
hc_xAxis(title = list(text="Year")) %>%
hc_yAxis(title = list(text="Total Number of Workers")) %>%
hc_plotOptions(series = list(marker = list(enabled = TRUE, symbol = "circle")))
hchart(total_summary, "line", hcaes(x = year, y = median_sa, group = edu)) %>%
# hc_colors(cols) %>%
hc_chart(style = list(fontFamily = "Georgia",
fontWeight = "bold")) %>%
hc_xAxis(title = list(text="Year")) %>%
hc_yAxis(title = list(text="Total Number of Workers")) %>%
hc_plotOptions(series = list(marker = list(enabled = TRUE, symbol = "circle")))
total_summary <- melt1015 %>%
group_by(year, edu) %>%
summarize(median_sa =median(median_salary, na.rm=T))
hchart(total_summary, "line", hcaes(x = year, y = median_sa, group = edu)) %>%
# hc_colors(cols) %>%
hc_chart(style = list(fontFamily = "Georgia",
fontWeight = "bold")) %>%
hc_xAxis(title = list(text="Year")) %>%
hc_yAxis(title = list(text="Total Number of Workers")) %>%
hc_plotOptions(series = list(marker = list(enabled = TRUE, symbol = "circle")))
View(total_summary)
View(melt1015)
ggplot(melt1015, aes(x=median_salary, y=job, group=edu, size=Total,color=edu)) +
geom_point()
object <- ggplot(melt1015, aes(x=median_salary, y=job, group=edu, size=Total,color=edu, frame=year)) +
geom_point()
ggplot(melt1015, aes(x=median_salary, y=job, size=Total,color=edu, frame=year)) +
geom_point()
gganimate(object)
ggplot(melt1015, aes(x=median_salary, y=job, size=Total,color=edu, frame=year), alpha=0.5) +
geom_point()
object <- ggplot(melt1015, aes(x=median_salary, y=job, size=Total,color=edu, frame=year), alpha=0.5) +
geom_point()
gganimate(object)
object <- ggplot(melt1015, aes(x=median_salary, y=job, size=Total,frame=year), alpha=0.5) +
geom_point()
gganimate(object)
ggplot(melt1015, aes(x=median_salary, y=job, size=number,frame=year), alpha=0.5) +
geom_point()
object <- ggplot(melt1015, aes(x=median_salary, y=job, size=number,color=edu,frame=year), alpha=0.5) +
geom_point()
gganimate(object)
ggplot(melt1015, aes(x=median_salary, y=job, size=number,frame=year), alpha=0.5) +
geom_point()
object <- ggplot(melt1015, aes(x=median_salary, y=job, size=number,frame=year), alpha=0.5) +
geom_point()
gganimate(object)
object <- ggplot(melt1015, aes(x=median_salary, y=job, size=number,frame=year), alpha=0.5) +
geom_point(aes(color=edu))
gganimate(object)
ggplot(melt1015, aes(x=median_salary, y=job, size=number,frame=year), alpha=0.5) +
geom_point(aes(color=edu))
object <- ggplot(melt1015, aes(x=number, y=job, size=median_salary, frame=year), alpha=0.5) +
geom_point(aes(color=edu))
gganimate(object)
total_summary <- melt1015 %>%
group_by(year, edu) %>%
summarize(sum =sum(num, na.rm=T))
total_summary <- melt1015 %>%
group_by(year, edu) %>%
summarize(sum =sum(number, na.rm=T))
object <- ggplot(total_summary, aes(x=number, y=job, frame=year), alpha=0.5) +
geom_point(aes(color=edu))
gganimate(object)
object <- ggplot(total_summary, aes(x=sum, y=job, frame=year), alpha=0.5) +
geom_point(aes(color=edu))
gganimate(object)
total_summary <- melt1015 %>%
group_by(year, edu,job) %>%
summarize(sum =sum(number, na.rm=T))
object <- ggplot(total_summary, aes(x=sum, y=job, frame=year), alpha=0.5) +
geom_point(aes(color=edu))
gganimate(object)
object <- ggplot(total_summary, aes(x=sum, y=reorder(job,-median_salary, frame=year), alpha=0.5) +
geom_point(aes(color=edu))
object <- ggplot(melt1015, aes(x=sum, y=reorder(job,-median_salary), frame=year), alpha=0.5) +
ggplot(melt1015, aes(x=sum, y=reorder(job,-median_salary), frame=year), alpha=0.5) +
geom_point(aes(color=edu))
ggplot(melt1015, aes(x=number, y=job, frame=year), alpha=0.5) +
geom_point(aes(color=edu)) +
geom_point(x=0, y=job, size=median_salary)
ggplot(melt1015, aes(x=number, y=job), alpha=0.5) +
geom_point(aes(color=edu)) +
geom_point(x=0, y=job, size=median_salary)
ggplot(melt1015, aes(x=number, y=employment), alpha=0.5) +
geom_point(aes(color=edu)) +
geom_point(x=0, y=job, size=median_salary)
ggplot(melt1015, aes(x=number, y=employment), alpha=0.5) +
geom_point(aes(color=edu)) +
geom_point(x=0, y=employment, size=median_salary)
total_summary <- melt1015 %>%
group_by(year, edu,job) %>%
summarize(sum =sum(number, na.rm=T))
ggplot(melt1015, aes(x=number, y=employment), alpha=0.5) +
geom_point(aes(color=edu)) +
geom_point(x=0, y=employment, size=median_salary)
View(melt1015)
ggplot(melt1015, aes(x=number, y=employment), alpha=0.5) +
geom_point(aes(color=edu)) +
geom_point(aes(x=0, y=employment, size=median_salary))
